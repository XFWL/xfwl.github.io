function M(){import.meta.url,import("_").catch(()=>1);async function*o(){}}(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))g(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&g(n)}).observe(document,{childList:!0,subtree:!0});function f(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function g(i){if(i.ep)return;i.ep=!0;const a=f(i);fetch(i.href,a)}})();(function(){document.title="烟花demo";const o=document.createElement("canvas"),d=o.getContext("2d"),f=document.createElement("canvas");o.getContext("2d");function g(){o.width=innerWidth,o.height=innerHeight,f.width=innerWidth,f.height=innerHeight}g(),window.addEventListener("resize",g),document.body.append(o),document.body.append(f),o.style.position="absolute",o.style.zIndex="-1",f.style.position="absolute",f.style.zIndex="-2",f.style.backgroundColor="black",f.style.background="url('./image/myImage.png')",f.style.backgroundPosition="center center";function i(l,t){return l==0?t:Math.cos(l/180*Math.PI)*t}function a(l,t){return Math.sin(l/180*Math.PI)*t}const n=[],u=[];let m=0;o.addEventListener("mousedown",function(l){const t=l.offsetX,r=l.offsetY,e={};e.id=m,e.x=o.width*.2+o.width*Math.random()*.6,e.y=o.height,e.endX=l.offsetX,e.endY=l.offsetY,e.size=4,e.isEnd=!1,e.rgbR=Math.round(Math.random()*100+155),e.rgbG=Math.round(Math.random()*255),e.rgbB=Math.round(Math.random()*255),e.rgbA=1,n.push(e);const h=100,b=3;for(let c=0;c<h;c++){const s={};s.id=m,s.x=t,s.y=r,s.random=Math.random()*2.5+.1,s.r=s.random,s.deg=360/h*c,s.size=b,s.isEnd=!1,c==h-1&&(s.isEnd=!0),s.rgbR=Math.round(Math.random()*100+155),s.rgbG=Math.round(Math.random()*255),s.rgbB=Math.round(Math.random()*255),s.rgbA=1,u.push(s)}m++});function y(){for(let t=0;t<n.length;t++)n[t].x+=(n[t].endX-n[t].x)/50,n[t].y+=(n[t].endY-n[t].y)/50,d.beginPath(),d.fillStyle=`rgba(${n[t].rgbR},${n[t].rgbG},${n[t].rgbB},${n[t].rgbA})`,d.arc(n[t].x,n[t].y,n[t].size,0,Math.PI*2),d.fill(),(Math.abs(n[t].endY-n[t].y)**2+Math.abs(n[t].endX-n[t].x)**2)**.5<200&&(n[t].rgbA-=.011),n[t].rgbA<=0&&l(n[t].id);function l(t){const r=u.filter(e=>e.id==t);for(let e=0;e<r.length;e++){if(r[e].rgbA<=0)if(r[e].isEnd){n.splice(n.indexOf(n.find(c=>c.id==t)),1),u.splice(u.indexOf(u.find(c=>c.id==r[e].id&&c.random==r[e].random)),1);continue}else{u.splice(u.indexOf(u.find(c=>c.id==r[e].id&&c.random==r[e].random)),1);continue}let h=i(r[e].deg,r[e].r),b=a(r[e].deg,r[e].r)+.35;r[e].x+=h,r[e].y+=b,d.beginPath(),d.fillStyle=`rgba(${r[e].rgbR},${r[e].rgbG},${r[e].rgbB},${r[e].rgbA})`,d.arc(r[e].x,r[e].y+1,r[e].size,0,Math.PI*2),d.fill(),o.width<500?(r[e].r*=1-r[e].random/(o.width*.3*(Math.random()*.5+1)),r[e].rgbA-=.015):(r[e].r*=1-r[e].random/(o.width*.15),r[e].rgbA-=.003)}}}function p(){d.globalCompositeOperation="destination-out",d.fillStyle="rgba(0,0,0,"+10/100+")",d.fillRect(0,0,o.width,o.height),d.globalCompositeOperation="lighter",y(),requestAnimationFrame(p)}p()})();export{M as __vite_legacy_guard};
