function w(){import.meta.url,import("_").catch(()=>1);async function*l(){}}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))u(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&u(g)}).observe(document,{childList:!0,subtree:!0});function a(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerPolicy&&(d.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?d.credentials="include":i.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function u(i){if(i.ep)return;i.ep=!0;const d=a(i);fetch(i.href,d)}})();(function(){document.title="烟花demo";const l=document.createElement("div"),r=document.createElement("canvas"),a=r.getContext("2d"),u=document.createElement("canvas");r.getContext("2d");function i(){l.style.width=innerWidth+"px",l.style.height=innerHeight+"px",r.width=innerWidth,r.height=innerHeight,u.width=innerWidth,u.height=innerHeight}i(),window.addEventListener("resize",i),document.body.append(l),document.body.append(r),document.body.append(u),l.style.position="absolute",l.style.backgroundColor="black",l.style.zIndex="-3",r.style.position="absolute",r.style.zIndex="-1",u.style.position="absolute",u.style.zIndex="-2",u.style.backgroundPosition="center center";const d=new Image;d.src="./src/image/myImage.png",l.style.width="100%",l.style.height="100%",d.onload=function(){l.append(d)};function g(f,t){return f==0?t:Math.cos(f/180*Math.PI)*t}function M(f,t){return Math.sin(f/180*Math.PI)*t}const o=[],h=[];let b=0;r.addEventListener("mousedown",function(f){const t=f.offsetX,n=f.offsetY,e={};e.id=b,e.x=r.width*.2+r.width*Math.random()*.6,e.y=r.height,e.endX=f.offsetX,e.endY=f.offsetY,e.size=4,e.isEnd=!1,e.rgbR=Math.round(Math.random()*100+155),e.rgbG=Math.round(Math.random()*255),e.rgbB=Math.round(Math.random()*255),e.rgbA=1,o.push(e);const m=100,p=3;for(let c=0;c<m;c++){const s={};s.id=b,s.x=t,s.y=n,s.random=Math.random()*2.5+.1,s.r=s.random,s.deg=360/m*c,s.size=p,s.isEnd=!1,c==m-1&&(s.isEnd=!0),s.rgbR=Math.round(Math.random()*100+155),s.rgbG=Math.round(Math.random()*255),s.rgbB=Math.round(Math.random()*255),s.rgbA=1,h.push(s)}b++});function x(){for(let t=0;t<o.length;t++)o[t].x+=(o[t].endX-o[t].x)/50,o[t].y+=(o[t].endY-o[t].y)/50,a.beginPath(),a.fillStyle=`rgba(${o[t].rgbR},${o[t].rgbG},${o[t].rgbB},${o[t].rgbA})`,a.arc(o[t].x,o[t].y,o[t].size,0,Math.PI*2),a.fill(),(Math.abs(o[t].endY-o[t].y)**2+Math.abs(o[t].endX-o[t].x)**2)**.5<200&&(o[t].rgbA-=.011),o[t].rgbA<=0&&f(o[t].id);function f(t){const n=h.filter(e=>e.id==t);for(let e=0;e<n.length;e++){if(n[e].rgbA<=0)if(n[e].isEnd){o.splice(o.indexOf(o.find(c=>c.id==t)),1),h.splice(h.indexOf(h.find(c=>c.id==n[e].id&&c.random==n[e].random)),1);continue}else{h.splice(h.indexOf(h.find(c=>c.id==n[e].id&&c.random==n[e].random)),1);continue}let m=g(n[e].deg,n[e].r),p=M(n[e].deg,n[e].r)+.35;n[e].x+=m,n[e].y+=p,a.beginPath(),a.fillStyle=`rgba(${n[e].rgbR},${n[e].rgbG},${n[e].rgbB},${n[e].rgbA})`,a.arc(n[e].x,n[e].y+1,n[e].size,0,Math.PI*2),a.fill(),r.width<500?(n[e].r*=1-n[e].random/(r.width*.3*(Math.random()*.5+1)),n[e].rgbA-=.015):(n[e].r*=1-n[e].random/(r.width*.15),n[e].rgbA-=.003)}}}function y(){a.globalCompositeOperation="destination-out",a.fillStyle="rgba(0,0,0,"+10/100+")",a.fillRect(0,0,r.width,r.height),a.globalCompositeOperation="lighter",x(),requestAnimationFrame(y)}y()})();export{w as __vite_legacy_guard};
